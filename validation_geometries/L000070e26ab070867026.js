var L000070e26ab070867026 = /* color: #00ff00 */ee.Geometry.MultiPolygon(
        [[[[-93.7689757347107, 40.605416568051275],
           [-93.7689596414566, 40.60533104090509],
           [-93.76904010772705, 40.605347331798505],
           [-93.7690132856369, 40.605420640769786],
           [-93.76902937889099, 40.605526531364134],
           [-93.7690669298172, 40.60540027717473],
           [-93.76911520957947, 40.605335113628826],
           [-93.76909911632538, 40.60528216820098],
           [-93.76892745494843, 40.605253659107085],
           [-93.76887381076813, 40.605241440920274],
           [-93.76884162425995, 40.6050581678499],
           [-93.76884162425995, 40.60498078573595],
           [-93.76876652240753, 40.604919694530075],
           [-93.76873433589935, 40.604874894276946],
           [-93.76876652240753, 40.604471690647514],
           [-93.76871824264526, 40.60439838063535],
           [-93.76863241195679, 40.60440652619624],
           [-93.7678599357605, 40.60473234781722],
           [-93.76781165599823, 40.60478936643761],
           [-93.76788139343262, 40.604866748773176],
           [-93.76792967319489, 40.60490340353241],
           [-93.7679135799408, 40.605054095109274],
           [-93.76798331737518, 40.60512333166582],
           [-93.76810669898987, 40.60521293180898],
           [-93.76823544502258, 40.60529031365416],
           [-93.76841247081757, 40.60529845910633],
           [-93.76846611499786, 40.60535140452125],
           [-93.76864850521088, 40.60535140452125],
           [-93.7687075138092, 40.60531067728273],
           [-93.76878798007965, 40.605367695409726],
           [-93.76888453960419, 40.60540842261351]]],
         [[[-93.76344501972198, 40.60524551364945],
           [-93.76345038414001, 40.605139622609876],
           [-93.76354694366455, 40.605139622609876],
           [-93.76363813877106, 40.60506631333036],
           [-93.76365423202515, 40.604993003970414],
           [-93.76365959644318, 40.604887112530776],
           [-93.76362204551697, 40.60477307540817],
           [-93.76354694366455, 40.60463460149772],
           [-93.76349866390228, 40.60454500057922],
           [-93.76345574855804, 40.6044350356515],
           [-93.76339137554169, 40.60426397873759],
           [-93.76334309577942, 40.60420288687654],
           [-93.76308023929596, 40.60429656104067],
           [-93.7629246711731, 40.60434950724925],
           [-93.76290321350098, 40.60444725398573],
           [-93.76299440860748, 40.60444725398573],
           [-93.76295685768127, 40.604557218893355],
           [-93.7630158662796, 40.60462645596464],
           [-93.76314461231232, 40.60472012953509],
           [-93.76324117183685, 40.60478936643761],
           [-93.76324117183685, 40.60490340353241],
           [-93.76315534114838, 40.604866748773176],
           [-93.76310706138611, 40.60481787572956],
           [-93.76298367977142, 40.604797511950814],
           [-93.76291394233704, 40.60476492989196],
           [-93.76272082328796, 40.60475678437478],
           [-93.7627637386322, 40.60480973021879],
           [-93.76281201839447, 40.60485453051561],
           [-93.76298904418945, 40.604866748773176],
           [-93.76297295093536, 40.604915621781025],
           [-93.76286029815674, 40.6049563492603],
           [-93.76283347606659, 40.60501744043266],
           [-93.76282811164856, 40.605139622609876],
           [-93.76280665397644, 40.605221077270585],
           [-93.76279592514038, 40.6053188227324],
           [-93.76288712024689, 40.605306604557505],
           [-93.76287639141083, 40.60521700453991],
           [-93.76294612884521, 40.60519256815061],
           [-93.76306414604187, 40.60517627721949],
           [-93.76309633255005, 40.60512333166582],
           [-93.7631767988205, 40.60512333166582],
           [-93.76319289207458, 40.60515998628437],
           [-93.76328945159912, 40.60515998628437],
           [-93.76328945159912, 40.60511518619231],
           [-93.76335382461548, 40.60511518619231],
           [-93.76336991786957, 40.60523736819082]]],
         [[[-93.77593874931335, 40.60569758504675],
           [-93.77613186836243, 40.605636494496096],
           [-93.77637326717377, 40.60561205826018],
           [-93.77654492855072, 40.60555504034164],
           [-93.77665758132935, 40.60546544065712],
           [-93.77663612365723, 40.60535140452125],
           [-93.77659857273102, 40.60516813175241],
           [-93.77656638622284, 40.605111113455166],
           [-93.77644836902618, 40.605143695345255],
           [-93.77633571624756, 40.60524551364945],
           [-93.7762176990509, 40.60539213173495],
           [-93.77611041069031, 40.6054369316414],
           [-93.77601385116577, 40.60554282220992],
           [-93.77594947814941, 40.60562020367313]]],
         [[[-93.76085937023163, 40.60059022221397],
           [-93.76097738742828, 40.600618733296976],
           [-93.76104712486267, 40.600667609411005],
           [-93.76122415065765, 40.600696120461016],
           [-93.76145482063293, 40.60074499651848],
           [-93.76154601573944, 40.600793872540166],
           [-93.76167476177216, 40.600793872540166],
           [-93.76167476177216, 40.60075314252457],
           [-93.76158356666565, 40.60074499651848],
           [-93.76152455806732, 40.60070426647309],
           [-93.76130998134613, 40.60062280630785],
           [-93.76110076904297, 40.60055356508937],
           [-93.76097738742828, 40.60053727302755],
           [-93.76088082790375, 40.60053727302755]]],
         [[[-93.76754879951477, 40.60213387621412],
           [-93.7677526473999, 40.602052417791064],
           [-93.76782774925232, 40.60217460538843],
           [-93.76795649528503, 40.60228864694445],
           [-93.76804232597351, 40.60218275122032],
           [-93.76793503761292, 40.60206056363784],
           [-93.76806378364563, 40.60192208410772],
           [-93.76816034317017, 40.60181618780285],
           [-93.76839637756348, 40.60190579237942],
           [-93.76849293708801, 40.601897646513784],
           [-93.76834273338318, 40.60181618780285],
           [-93.76837491989136, 40.60167770776645],
           [-93.76849293708801, 40.60149035196642],
           [-93.7686538696289, 40.601376309048455],
           [-93.76880407333374, 40.60127855782103],
           [-93.76883625984192, 40.60106676300457],
           [-93.76894354820251, 40.600944573382144],
           [-93.76904010772705, 40.6006105872745],
           [-93.76927614212036, 40.6004883968182],
           [-93.76949071884155, 40.60007294759612],
           [-93.7697696685791, 40.59996704836185],
           [-93.76989841461182, 40.599942610053176],
           [-93.76996278762817, 40.599747103262295],
           [-93.77023100852966, 40.59965749579205],
           [-93.77041339874268, 40.59955974205118],
           [-93.7707245349884, 40.59920945663913],
           [-93.77087473869324, 40.59903838635219],
           [-93.77100348472595, 40.59898136282596],
           [-93.77137899398804, 40.59914428705762],
           [-93.77161502838135, 40.59933164943318],
           [-93.77166867256165, 40.59943754967403],
           [-93.77193689346313, 40.59943754967403],
           [-93.77195835113525, 40.59952715743909],
           [-93.77209782600403, 40.59951086512712],
           [-93.77201199531555, 40.59933164943318],
           [-93.77181887626648, 40.599233895215804],
           [-93.77163648605347, 40.59903024013715],
           [-93.77159357070923, 40.59893248547902],
           [-93.77170085906982, 40.598704390720826],
           [-93.77192616462708, 40.59852517286481],
           [-93.77215147018433, 40.59841112488814],
           [-93.77246260643005, 40.59826449148936],
           [-93.77259135246277, 40.59814229674468],
           [-93.77269864082336, 40.598036394451974],
           [-93.77298831939697, 40.597930491991505],
           [-93.7732458114624, 40.597873467520245],
           [-93.77349257469177, 40.59784088208623],
           [-93.77377152442932, 40.59780015027141],
           [-93.77400755882263, 40.597849028446234],
           [-93.77409338951111, 40.597824589363285],
           [-93.77407193183899, 40.5976372227639],
           [-93.7739109992981, 40.59754761246554],
           [-93.7739109992981, 40.59727878084973],
           [-93.77379298210144, 40.59707511981504],
           [-93.77358913421631, 40.596765553854105],
           [-93.77334237098694, 40.59643154686758],
           [-93.77306342124939, 40.59608124506456],
           [-93.77282738685608, 40.59604051217765],
           [-93.77254843711853, 40.59565762182765],
           [-93.7722373008728, 40.59565762182765],
           [-93.77215147018433, 40.59577167450165],
           [-93.77193689346313, 40.595755381274415],
           [-93.77169013023376, 40.59576352788852],
           [-93.77166867256165, 40.59561688868264],
           [-93.77146482467651, 40.595625035313645],
           [-93.7712824344635, 40.5956902083258],
           [-93.77092838287354, 40.59573908804322],
           [-93.77081036567688, 40.59573908804322],
           [-93.77081036567688, 40.595625035313645],
           [-93.77082109451294, 40.595437662549834],
           [-93.77074599266052, 40.59529102262924],
           [-93.77066016197205, 40.59527472928486],
           [-93.7703812122345, 40.59527472928486],
           [-93.7703812122345, 40.59533990263851],
           [-93.77059578895569, 40.59536434262974],
           [-93.77059578895569, 40.59558430214879],
           [-93.77049922943115, 40.59584499397504],
           [-93.77066016197205, 40.595877580381845],
           [-93.77073526382446, 40.59599977926592],
           [-93.77056360244751, 40.596024219015945],
           [-93.77066016197205, 40.59608124506456],
           [-93.7707781791687, 40.59608124506456],
           [-93.77096056938171, 40.59599163268059],
           [-93.77115368843079, 40.59604051217765],
           [-93.77119660377502, 40.59629305567646],
           [-93.77127170562744, 40.596423400334864],
           [-93.77111077308655, 40.59674111437509],
           [-93.7709391117096, 40.59679813981223],
           [-93.77078890800476, 40.596765553854105],
           [-93.77062797546387, 40.596773700345125],
           [-93.77035975456238, 40.59687145815995],
           [-93.77017736434937, 40.5970262410744],
           [-93.77013444900513, 40.597172877189124],
           [-93.77003788948059, 40.597327659405735],
           [-93.76981258392334, 40.597392830758146],
           [-93.76965165138245, 40.59733580582828],
           [-93.76930832862854, 40.597343952249794],
           [-93.76911520957947, 40.59727063442024],
           [-93.76902937889099, 40.59719731651031],
           [-93.7688148021698, 40.59721360938615],
           [-93.76856803894043, 40.597172877189124],
           [-93.7683641910553, 40.59708326626834],
           [-93.76826763153076, 40.59699365522746],
           [-93.76832127571106, 40.596765553854105],
           [-93.76813888549805, 40.596838872237534],
           [-93.76783847808838, 40.596814432785344],
           [-93.76758098602295, 40.596643356369675],
           [-93.76760244369507, 40.59656189125599],
           [-93.76734495162964, 40.59635822803742],
           [-93.7671947479248, 40.5961301244961],
           [-93.76718401908875, 40.59588572698107],
           [-93.76718401908875, 40.59577167450165],
           [-93.76687288284302, 40.59564947520064],
           [-93.76671195030212, 40.59559244878374],
           [-93.76655101776123, 40.595519129033384],
           [-93.7664008140564, 40.595437662549834],
           [-93.76626133918762, 40.595372489291485],
           [-93.76614332199097, 40.595233995906604],
           [-93.76600384712219, 40.595201409186124],
           [-93.76582145690918, 40.595331755972765],
           [-93.7656819820404, 40.59544580920265],
           [-93.76560688018799, 40.595519129033384],
           [-93.7657356262207, 40.595576155512845],
           [-93.76587510108948, 40.595551715599036],
           [-93.76608967781067, 40.59564132857263],
           [-93.76605749130249, 40.59577982111377],
           [-93.76612186431885, 40.595926459962264],
           [-93.7661862373352, 40.59607309848917],
           [-93.76632571220398, 40.5961301244961],
           [-93.76632571220398, 40.59621973669443],
           [-93.7661862373352, 40.59626861602471],
           [-93.76647591590881, 40.59634193495314],
           [-93.76657247543335, 40.596366374578075],
           [-93.76661539077759, 40.596570037771805],
           [-93.76658320426941, 40.596659649380506],
           [-93.76670122146606, 40.59674926086908],
           [-93.76676559448242, 40.597009948152916],
           [-93.7669050693512, 40.59701809461416],
           [-93.76703381538391, 40.59709141272065],
           [-93.76703381538391, 40.597238048692425],
           [-93.76704454421997, 40.597327659405735],
           [-93.76715183258057, 40.597319512982224],
           [-93.76726984977722, 40.59744170923077],
           [-93.76734495162964, 40.59745800204705],
           [-93.767409324646, 40.59756390525599],
           [-93.76750588417053, 40.597694247436706],
           [-93.76759171485901, 40.597849028446234],
           [-93.7679672241211, 40.59802824811482],
           [-93.76821398735046, 40.598183028351066],
           [-93.76840710639954, 40.59827263779773],
           [-93.76863241195679, 40.5983133693247],
           [-93.76882553100586, 40.598476295184355],
           [-93.7686538696289, 40.59869624446507],
           [-93.76849293708801, 40.598842876916834],
           [-93.76845002174377, 40.59894877793195],
           [-93.76821398735046, 40.59904653256626],
           [-93.76792430877686, 40.59904653256626],
           [-93.76773118972778, 40.599005801486015],
           [-93.76748442649841, 40.598973216603945],
           [-93.76732349395752, 40.598973216603945],
           [-93.76711964607239, 40.59903838635219],
           [-93.7669587135315, 40.59909540982982],
           [-93.76675486564636, 40.59901394770404],
           [-93.76650810241699, 40.599005801486015],
           [-93.76622915267944, 40.598956924156944],
           [-93.76592874526978, 40.598997655266984],
           [-93.76569271087646, 40.59906282499141],
           [-93.7654459476471, 40.59917687185631],
           [-93.76519918441772, 40.599193164249705],
           [-93.76500606536865, 40.59916872565812],
           [-93.7647807598114, 40.599233895215804],
           [-93.76454472541809, 40.59920945663913],
           [-93.76445889472961, 40.59911170224306],
           [-93.76417994499207, 40.599022093921086],
           [-93.76413702964783, 40.598940631706],
           [-93.76391172409058, 40.599005801486015],
           [-93.76384735107422, 40.59914428705762],
           [-93.76391172409058, 40.59928277234237],
           [-93.76409411430359, 40.59931535707355],
           [-93.7642228603363, 40.59937238031488],
           [-93.76435160636902, 40.59963305737023],
           [-93.76451253890991, 40.59969822647523],
           [-93.76474857330322, 40.59971451874156],
           [-93.7649416923523, 40.59967378806832],
           [-93.76498460769653, 40.59956788820171],
           [-93.76509189605713, 40.59971451874156],
           [-93.76534938812256, 40.599681934204945],
           [-93.76564979553223, 40.59970637260891],
           [-93.76579999923706, 40.59967378806832],
           [-93.76606822013855, 40.59962491122765],
           [-93.76633644104004, 40.5996900803406],
           [-93.76652956008911, 40.59961676508406],
           [-93.76664757728577, 40.59964934965245],
           [-93.76644372940063, 40.59977154164244],
           [-93.76616477966309, 40.59977154164244],
           [-93.76621842384338, 40.599885587298246],
           [-93.76641154289246, 40.599942610053176],
           [-93.76666903495789, 40.59992631784245],
           [-93.76677632331848, 40.600007778856416],
           [-93.76705527305603, 40.600129970191254],
           [-93.76734495162964, 40.60026030736886],
           [-93.76761317253113, 40.600333621919596],
           [-93.7678599357605, 40.60041508243724],
           [-93.76794576644897, 40.600496542855566],
           [-93.7678599357605, 40.60068390144107],
           [-93.76784920692444, 40.60087940549216],
           [-93.76784920692444, 40.60109934686617],
           [-93.76767754554749, 40.601433330531755],
           [-93.76767754554749, 40.60157181107444],
           [-93.76757025718689, 40.60174287487814],
           [-93.76759171485901, 40.60185691717073],
           [-93.76759171485901, 40.601970959268755],
           [-93.76749515533447, 40.602052417791064]]],
         [[[-93.75882625579834, 40.59465557925687],
           [-93.75892281532288, 40.59452523115198],
           [-93.75929832458496, 40.59434600209281],
           [-93.75914812088013, 40.59398754253313],
           [-93.75875115394592, 40.59410159805601],
           [-93.75824689865112, 40.59402827667077],
           [-93.75804305076599, 40.594011983018696],
           [-93.7578284740448, 40.594069010783606],
           [-93.75816106796265, 40.59407715760321],
           [-93.75852584838867, 40.59415862574451],
           [-93.75875115394592, 40.59421565338437],
           [-93.7587833404541, 40.59445191023131]]],
         [[[-93.76193761825562, 40.593686109143164],
           [-93.76237750053406, 40.59354761226515],
           [-93.7627100944519, 40.59369425600943],
           [-93.76296758651733, 40.59388163365908],
           [-93.76296758651733, 40.59397939570261],
           [-93.763267993927, 40.59388978050148],
           [-93.7633752822876, 40.5937186966022],
           [-93.76345038414001, 40.59350687783466],
           [-93.76352548599243, 40.59331135222288],
           [-93.76356840133667, 40.59316470763882],
           [-93.7634289264679, 40.59305879746142],
           [-93.76318216323853, 40.593001768834874],
           [-93.76298904418945, 40.59285512357186],
           [-93.7629246711731, 40.592684037025165],
           [-93.76274228096008, 40.59241518585309],
           [-93.76258134841919, 40.59256997908419],
           [-93.76246333122253, 40.59273291894032],
           [-93.76234531402588, 40.59287956447137],
           [-93.7622058391571, 40.59297732798003],
           [-93.76239895820618, 40.59304250357309],
           [-93.76250624656677, 40.592912152323464],
           [-93.76259207725525, 40.59278994779616],
           [-93.76267790794373, 40.59284697660336],
           [-93.76260280609131, 40.593075091345774],
           [-93.76251697540283, 40.59315656070803],
           [-93.76238822937012, 40.5931321199098],
           [-93.76233458518982, 40.59318914842515],
           [-93.76233458518982, 40.59331135222288],
           [-93.76224875450134, 40.59340096819924],
           [-93.7621521949768, 40.593384674394294],
           [-93.76209855079651, 40.59350687783466]]],
         [[[-93.76559615135193, 40.58962884641682],
           [-93.76585364341736, 40.5894821937567],
           [-93.76606822013855, 40.58928665637623],
           [-93.76611113548279, 40.58917259264024],
           [-93.76572489738464, 40.58852894362656],
           [-93.76547813415527, 40.588634860978715],
           [-93.76530647277832, 40.588814105346295],
           [-93.76501679420471, 40.589115560699305],
           [-93.7653386592865, 40.58907482356886],
           [-93.76559615135193, 40.58907482356886],
           [-93.76567125320435, 40.58933554077494]]],
         [[[-93.76906156539917, 40.59050060836944],
           [-93.76932978630066, 40.59010139168952],
           [-93.76893281936646, 40.58993029809711],
           [-93.76878261566162, 40.59028877940751],
           [-93.76879334449774, 40.59032136852223],
           [-93.76882553100592, 40.590337663073676],
           [-93.76885771751404, 40.59039469397235]]],
         [[[-93.76809597015381, 40.59145383039432],
           [-93.76863241195679, 40.59100573626309],
           [-93.76822471618652, 40.590622817080714],
           [-93.7678599357605, 40.590810203337554],
           [-93.76759171485901, 40.59100573626309],
           [-93.76773118972778, 40.59104647221729],
           [-93.76799941062927, 40.59107906096277],
           [-93.76811742782593, 40.5911849742759],
           [-93.76802086830139, 40.59131532889256]]],
         [[[-93.77424359321594, 40.59392236786125],
           [-93.77451181411743, 40.59394680837064],
           [-93.77454400062561, 40.593816458883964],
           [-93.7744688987732, 40.59349058405551],
           [-93.77440452575684, 40.59343355579723],
           [-93.7743079662323, 40.5936127873023]]],
         [[[-93.77349257469177, 40.59308323828647],
           [-93.7734603881836, 40.59296918102644],
           [-93.77328872680664, 40.59287956447137],
           [-93.77323508262634, 40.5930099157845],
           [-93.77333164215088, 40.59304250357309]]]]);


//Change the following for each lake
var polygon = "000070e26ab070867026"
var train_date = ee.Date("2006-07-04")

print(L000070e26ab070867026.area())

//-------------Stays the same for each lake--------------//
//Find the polygon from the NRI database
var NRI = ee.FeatureCollection("users/chalab13/LWB_IA_all_years_geo"),
    NAIP = ee.ImageCollection("USDA/NAIP/DOQQ");

var predict_poly = NRI
  .filterMetadata("system:index", "equals", polygon)
  .geometry()

//Determine month and year of training date
var NAIP_range_year = ee.String(train_date.get('year'));
var NAIP_range_month = ee.String(ee.Algorithms.If(ee.Number(train_date.get('month')).lt(10),
          ee.String("0").cat(ee.String(train_date.get('month'))),
          ee.String(train_date.get('month'))));

//Function to calculate date for end of the month selected
//Non - GEE Functional version
var date_range = function(month, year) {
  var end_range = "";
  if(month == "09" || month == "04" || month == "06" || month == "11"){
    end_range = ee.String(year).cat("-").cat(month).cat("-").cat("30")
  } else {
    if(month == "02"){
      if(year % 4 === 0){
          end_range = ee.String(year).cat("-").cat(month).cat("-").cat("29")
      } else {
          end_range = ee.String(year).cat("-").cat(month).cat("-").cat("28")
      }
    } else {
      end_range = ee.String(year).cat("-").cat(month).cat("-").cat("31")
    }
  }
  return end_range
} // end function date_range()

//Produce a range of dates for the month of the NAIP image (1st through 30th of the month)
var NAIP_range_1 = NAIP_range_year.cat("-").cat(NAIP_range_month).cat("-").cat("01");
var NAIP_range_2 = date_range(NAIP_range_month.getInfo(), NAIP_range_year.getInfo());

//Collect NAIP images
var NAIP = NAIP
  .filterBounds(predict_poly)
  .filterDate(NAIP_range_1, NAIP_range_2)

//Add to map
Map.addLayer(predict_poly.buffer(800))
Map.addLayer(NAIP.select('R','G','B').mosaic().clip(predict_poly.buffer(800)))
Map.centerObject(NAIP, 14)
