var L00001d3e5700dd3debd8 = /* color: #bf04c2 */ee.Geometry.MultiPolygon(
        [[[[-95.33459186553955, 42.02567435866263],
           [-95.33460259437561, 42.02541932259016],
           [-95.33459186553955, 42.02529977407901],
           [-95.33445239067078, 42.025012856735074],
           [-95.3344738483429, 42.02474984803235],
           [-95.33449530601501, 42.024622328269665],
           [-95.3344202041626, 42.02432743783889],
           [-95.33439874649048, 42.023889084670834],
           [-95.33356189727783, 42.0238970547554],
           [-95.33360481262207, 42.02419991722899],
           [-95.33372282981873, 42.024550598290766],
           [-95.33379793167114, 42.02482157778645],
           [-95.33390522003174, 42.02491721733271],
           [-95.33399105072021, 42.024965037051885],
           [-95.3339695930481, 42.02507661625675],
           [-95.33424854278564, 42.025514961237235],
           [-95.33424854278564, 42.025594659999896]]],
         [[[-95.32474279403687, 42.02243054237263],
           [-95.32462477684021, 42.02258994753102],
           [-95.3244423866272, 42.022685590434214],
           [-95.32441020011902, 42.022876875809],
           [-95.32434582710266, 42.02309207116776],
           [-95.32412052154541, 42.02331523595569],
           [-95.32376646995544, 42.02345869862005],
           [-95.32340168952942, 42.02363404143685],
           [-95.32301545143127, 42.023626071319306],
           [-95.32305836677551, 42.023992695692385],
           [-95.32284379005432, 42.02414412688172],
           [-95.3225326538086, 42.024454958193026],
           [-95.32236099243164, 42.02449480825125],
           [-95.32233953475952, 42.02471796811564],
           [-95.32220005989075, 42.024869397577554],
           [-95.32188892364502, 42.02518022534307],
           [-95.32168507575989, 42.02539541290591],
           [-95.32153487205505, 42.02560262987066],
           [-95.32113790512085, 42.02561856960921],
           [-95.32105207443237, 42.02574608737368],
           [-95.32092332839966, 42.02591345405141],
           [-95.320805311203, 42.025961273021274],
           [-95.32052636146545, 42.02624021629522],
           [-95.31994700431824, 42.02630397458599],
           [-95.31942129135132, 42.026798099171444],
           [-95.31936764717102, 42.027061099400846],
           [-95.318284034729, 42.027244401947605],
           [-95.31810164451599, 42.02757912697354],
           [-95.31787633895874, 42.02771461041159],
           [-95.31721115112305, 42.028129028547276],
           [-95.31713604927063, 42.02828841941858],
           [-95.31705021858215, 42.028399992790696],
           [-95.31683564186096, 42.02853547447929],
           [-95.3167712688446, 42.02863110843859],
           [-95.31662106513977, 42.02871080329475],
           [-95.31649231910706, 42.02887019270733],
           [-95.31635284423828, 42.028973795611215],
           [-95.31610608100891, 42.02906145947492],
           [-95.31584858894348, 42.02902958172028],
           [-95.315762758255, 42.028902070541896],
           [-95.31567692756653, 42.028973795611215],
           [-95.3154730796814, 42.029013642836986],
           [-95.31529068946838, 42.02907739834625],
           [-95.31519412994385, 42.029196939753795],
           [-95.31565546989441, 42.02918100091244],
           [-95.31589150428772, 42.02920490917297],
           [-95.31612753868103, 42.02934835854726],
           [-95.3163206577301, 42.02941211372083],
           [-95.31661033630371, 42.02935632794748],
           [-95.31659960746765, 42.02909333721359],
           [-95.31673908233643, 42.028981765058376],
           [-95.31696438789368, 42.02880643699027],
           [-95.31712532043457, 42.02879846752111],
           [-95.3172755241394, 42.02875862016048],
           [-95.31784415245056, 42.02846374891543],
           [-95.31818747520447, 42.028216693575956],
           [-95.31856298446655, 42.027985576421415],
           [-95.31898140907288, 42.02789791107405],
           [-95.31964659690857, 42.027858063148905],
           [-95.31986117362976, 42.02776242802667],
           [-95.32012939453125, 42.027563187726585],
           [-95.32109498977661, 42.027013281258235],
           [-95.32118082046509, 42.02686982661466],
           [-95.32124519348145, 42.026686522987845],
           [-95.32150268554688, 42.02660682559395],
           [-95.32187819480896, 42.026686522987845],
           [-95.32222151756287, 42.02683794776099],
           [-95.32246828079224, 42.02695749337974],
           [-95.32263994216919, 42.02698937217345],
           [-95.32267212867737, 42.02710094782551],
           [-95.32284379005432, 42.02730018957431],
           [-95.32310128211975, 42.027523339591625],
           [-95.32335877418518, 42.02759506621657],
           [-95.32359480857849, 42.02771461041159],
           [-95.32378792762756, 42.02781821519878],
           [-95.32375574111938, 42.027985576421415],
           [-95.32402396202087, 42.02809715032507],
           [-95.32414197921753, 42.02823263265908],
           [-95.32420635223389, 42.0285673524817],
           [-95.32431364059448, 42.028662986393044],
           [-95.32434582710266, 42.02875065068536],
           [-95.32446384429932, 42.02891003999804],
           [-95.32461404800415, 42.02894191781263],
           [-95.32461404800415, 42.02875065068536],
           [-95.3244960308075, 42.02876658963462],
           [-95.32447457313538, 42.0286470474178],
           [-95.32434582710266, 42.02861516945535],
           [-95.32435655593872, 42.028487657445694],
           [-95.32431364059448, 42.0283123280148],
           [-95.32425999641418, 42.02806527208687],
           [-95.32416343688965, 42.02796963727633],
           [-95.32409906387329, 42.02784212397186],
           [-95.32397031784058, 42.02771461041159],
           [-95.32380938529968, 42.02753130922061],
           [-95.32362699508667, 42.02735597715208],
           [-95.32341241836548, 42.026798099171444],
           [-95.32324075698853, 42.02651118858942],
           [-95.32315492630005, 42.02628006523445],
           [-95.3232729434967, 42.02601706177396],
           [-95.32365918159485, 42.025722177812334],
           [-95.32382011413574, 42.025522931118005],
           [-95.32403469085693, 42.025514961237235],
           [-95.32487154006958, 42.02483751772082],
           [-95.32560110092163, 42.02442307812846],
           [-95.32643795013428, 42.02465420823431],
           [-95.32660961151123, 42.02478969790572],
           [-95.32679200172424, 42.02495706710117],
           [-95.32694220542908, 42.024941127196776],
           [-95.32693147659302, 42.02485345765117],
           [-95.32688856124878, 42.02463826825399],
           [-95.32674908638, 42.02451074826753],
           [-95.32662034034729, 42.02430352774402],
           [-95.32672762870789, 42.023833294050796],
           [-95.32673835754395, 42.023642011553385],
           [-95.32679200172424, 42.02344275833999],
           [-95.32493591308594, 42.02227910710203]]],
         [[[-95.31209349632263, 42.0338907546355],
           [-95.31270503997803, 42.03375528436082],
           [-95.3125011920929, 42.03352418734347],
           [-95.31236171722412, 42.0333727784972],
           [-95.31201839447021, 42.03330902729611],
           [-95.31161069869995, 42.03329308948587],
           [-95.31142830848694, 42.03345246740861],
           [-95.3112781047821, 42.033699502399095],
           [-95.31123518943787, 42.033954505253085],
           [-95.31179308891296, 42.03396247407579]]],
         [[[-95.31762957572937, 42.032265092281996],
           [-95.31758666038513, 42.03203398984641],
           [-95.31767249107361, 42.03191445377416],
           [-95.31789779663086, 42.03183476293442],
           [-95.3178870677948, 42.0317152264875],
           [-95.31779050827026, 42.03148412205266],
           [-95.31752228736877, 42.0312769242588],
           [-95.31712532043457, 42.03109363333969],
           [-95.31695365905762, 42.031237078451774],
           [-95.31670689582825, 42.03150802944696],
           [-95.31643867492676, 42.0317949174771],
           [-95.31658887863159, 42.031866639282306],
           [-95.31694293022156, 42.031938361006574],
           [-95.31723260879517, 42.03204992797239],
           [-95.31742572784424, 42.03218540188188]]],
         [[[-95.324946641922, 42.03148412205266],
           [-95.32517194747925, 42.03148412205266],
           [-95.32509684562683, 42.03136458494633],
           [-95.32515048980713, 42.03119723261977],
           [-95.32535433769226, 42.03116535593619],
           [-95.3254508972168, 42.03102191066222],
           [-95.32551527023315, 42.03083064979338],
           [-95.32546162605286, 42.03071111145813],
           [-95.32559037208557, 42.03055969591076],
           [-95.3257405757904, 42.03040828000269],
           [-95.32599806785583, 42.03027280230557],
           [-95.32622337341309, 42.030129355017394],
           [-95.3262984752655, 42.03008153918271],
           [-95.32618045806885, 42.029938091462924],
           [-95.32547235488892, 42.029802612763696],
           [-95.32526850700378, 42.02996996876199],
           [-95.32512903213501, 42.03001778468057],
           [-95.32486081123352, 42.030137324319675],
           [-95.32448530197144, 42.03028874087317],
           [-95.32459259033203, 42.03038437219477],
           [-95.32459259033203, 42.03056766515908],
           [-95.32459259033203, 42.03079080370662],
           [-95.32459259033203, 42.03094221870348],
           [-95.32456040382385, 42.031045818230375],
           [-95.32463550567627, 42.031173325108576],
           [-95.32479643821716, 42.03133270834665]]]]);

 //Change the following for each lake
 var polygon = "00001d3e5700dd3debd8"
 var train_date = ee.Date("2006-10-06")

 print(L00001d3e5700dd3debd8.area())

 //-------------Stays the same for each lake--------------//
 //Find the polygon from the NRI database
 var NRI = ee.FeatureCollection("users/chalab13/LWB_IA_all_years_geo"),
     NAIP = ee.ImageCollection("USDA/NAIP/DOQQ");

 var predict_poly = NRI
   .filterMetadata("system:index", "equals", polygon)
   .geometry()

 //Determine month and year of training date
 var NAIP_range_year = ee.String(train_date.get('year'));
 var NAIP_range_month = ee.String(ee.Algorithms.If(ee.Number(train_date.get('month')).lt(10),
           ee.String("0").cat(ee.String(train_date.get('month'))),
           ee.String(train_date.get('month'))));

 //Function to calculate date for end of the month selected
 //Non - GEE Functional version
 var date_range = function(month, year) {
   var end_range = "";
   if(month == "09" || month == "04" || month == "06" || month == "11"){
     end_range = ee.String(year).cat("-").cat(month).cat("-").cat("30")
   } else {
     if(month == "02"){
       if(year % 4 === 0){
           end_range = ee.String(year).cat("-").cat(month).cat("-").cat("29")
       } else {
           end_range = ee.String(year).cat("-").cat(month).cat("-").cat("28")
       }
     } else {
       end_range = ee.String(year).cat("-").cat(month).cat("-").cat("31")
     }
   }
   return end_range
 } // end function date_range()

 //Produce a range of dates for the month of the NAIP image (1st through 30th of the month)
 var NAIP_range_1 = NAIP_range_year.cat("-").cat(NAIP_range_month).cat("-").cat("01");
 var NAIP_range_2 = date_range(NAIP_range_month.getInfo(), NAIP_range_year.getInfo());

 //Collect NAIP images
 var NAIP = NAIP
   .filterBounds(predict_poly)
   .filterDate(NAIP_range_1, NAIP_range_2)

 //Add to map
 Map.addLayer(predict_poly.buffer(800))
 Map.addLayer(NAIP.select('R','G','B').mosaic().clip(predict_poly.buffer(800)))
 Map.centerObject(NAIP, 14)
